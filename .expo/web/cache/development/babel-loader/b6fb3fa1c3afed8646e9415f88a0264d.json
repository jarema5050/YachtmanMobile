{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport BaseError from \"../utils/baseError\";\n\nvar AuthError = function (_BaseError) {\n  _inherits(AuthError, _BaseError);\n\n  var _super = _createSuper(AuthError);\n\n  function AuthError(response) {\n    var _this;\n\n    _classCallCheck(this, AuthError);\n\n    var status = response.status,\n        _response$json = response.json,\n        json = _response$json === void 0 ? {} : _response$json,\n        text = response.text;\n    var error = json.error,\n        description = json.error_description;\n    _this = _super.call(this, error || 'a0.response.invalid', description || text || handleInvalidToken(response) || 'unknown error');\n    _this.json = json;\n    _this.status = status;\n    return _this;\n  }\n\n  return AuthError;\n}(BaseError);\n\nexport { AuthError as default };\n\nvar handleInvalidToken = function handleInvalidToken(response) {\n  var _response$headers, _response$headers$get;\n\n  return (response == null ? void 0 : (_response$headers = response.headers) == null ? void 0 : (_response$headers$get = _response$headers.get('www-authenticate')) == null ? void 0 : _response$headers$get.match(/error=\"invalid_token\"/g)) ? 'invalid_token' : null;\n};","map":{"version":3,"sources":["/Users/sokolowski/Documents/Private Repositories/YachtmanMobile/node_modules/react-native-auth0/src/auth/authError.js"],"names":["BaseError","AuthError","response","status","json","text","error","description","error_description","handleInvalidToken","headers","get","match"],"mappings":";;;;;;;;;AAAA,OAAOA,SAAP;;IAEqBC,S;;;;;AACnB,qBAAYC,QAAZ,EAAsB;AAAA;;AAAA;;AAAA,QACbC,MADa,GACcD,QADd,CACbC,MADa;AAAA,yBACcD,QADd,CACLE,IADK;AAAA,QACLA,IADK,+BACE,EADF;AAAA,QACMC,IADN,GACcH,QADd,CACMG,IADN;AAAA,QAEbC,KAFa,GAE4BF,IAF5B,CAEbE,KAFa;AAAA,QAEaC,WAFb,GAE4BH,IAF5B,CAENI,iBAFM;AAGpB,8BACEF,KAAK,IAAI,qBADX,EAEEC,WAAW,IAAIF,IAAf,IAAuBI,kBAAkB,CAACP,QAAD,CAAzC,IAAuD,eAFzD;AAIA,UAAKE,IAAL,GAAYA,IAAZ;AACA,UAAKD,MAAL,GAAcA,MAAd;AARoB;AASrB;;;EAVoCH,S;;SAAlBC,S;;AAarB,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAP,QAAQ;AAAA;;AAAA,SACjC,CAAAA,QAAQ,QAAR,iCAAAA,QAAQ,CAAEQ,OAAV,gEAAmBC,GAAnB,CAAuB,kBAAvB,4CAA4CC,KAA5C,CAAkD,wBAAlD,KACI,eADJ,GAEI,IAH6B;AAAA,CAAnC","sourcesContent":["import BaseError from '../utils/baseError';\n\nexport default class AuthError extends BaseError {\n  constructor(response) {\n    const {status, json = {}, text} = response;\n    const {error, error_description: description} = json;\n    super(\n      error || 'a0.response.invalid',\n      description || text || handleInvalidToken(response) || 'unknown error',\n    );\n    this.json = json;\n    this.status = status;\n  }\n}\n\nconst handleInvalidToken = response =>\n  response?.headers?.get('www-authenticate')?.match(/error=\"invalid_token\"/g)\n    ? 'invalid_token'\n    : null;\n"]},"metadata":{},"sourceType":"module"}