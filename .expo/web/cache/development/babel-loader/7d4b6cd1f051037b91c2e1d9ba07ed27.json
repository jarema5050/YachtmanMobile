{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jedrzej/Documents/GitHub/YachtmanMobile/views/LoginView.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Button } from 'react-native-elements';\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    alignItems: \"stretch\",\n    margin: 20\n  },\n  textInput: {\n    height: 40,\n    borderColor: \"gray\",\n    borderWidth: 1\n  },\n  warningfield: {\n    color: \"red\"\n  },\n  picker: {\n    height: 80\n  },\n  buttonRegister: {\n    backgroundColor: \"#32a852\"\n  }\n});\n\nvar LoginView = function (_React$Component) {\n  _inherits(LoginView, _React$Component);\n\n  var _super = _createSuper(LoginView);\n\n  function LoginView(props) {\n    var _this;\n\n    _classCallCheck(this, LoginView);\n\n    _this = _super.call(this, props);\n\n    _this.onSubmit = function () {\n      var fetchForbidden = false;\n\n      if (_this.state.form.password === null) {\n        _this.state.correctMessage += \"Password cannot be null. \";\n        fetchForbidden = true;\n        console.log(3);\n      }\n\n      if (_this.state.form.email === null) {\n        _this.state.correctMessage += \"Email cannot be null. \";\n        fetchForbidden = true;\n        console.log(4);\n      }\n\n      _this.setState({\n        correctMessage: _this.state.correctMessage\n      });\n\n      if (fetchForbidden === false) {\n        _this.state.correctMessage = \"\";\n        fetch(\"https://locatedimg.azurewebsites.net/Home/AddUser\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: _this.state.form.email,\n            password: _this.state.form.password\n          })\n        }).then(function (res) {\n          if (res.status == \"200\") {\n            alert(\"Successfully singned in!\");\n          } else alert(\"Found an account registered with that email. Try with another address.\");\n        }).then(function (data) {\n          return console.log(JSON.stringify(data));\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.state = {\n      form: {\n        password: null,\n        email: null\n      },\n      correctMessage: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(LoginView, [{\n    key: \"handleChange\",\n    value: function handleChange(name, value) {\n      this.state.form[name] = value;\n      console.log(this.state.form);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, React.createElement(ScrollView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }\n      }, \"Email\"), React.createElement(TextInput, {\n        style: styles.textInput,\n        onChangeText: function onChangeText(txt) {\n          return _this2.handleChange(\"email\", txt);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }\n      })), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }\n      }, \"Password\"), React.createElement(TextInput, {\n        textContentType: \"password\",\n        autoCompleteType: \"password\",\n        style: styles.textInput,\n        onChangeText: function onChangeText(txt) {\n          return _this2.handleChange(\"password\", txt);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }\n      })), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }\n      }, this.state.correctMessage)), React.createElement(Button, {\n        buttonStyle: styles.buttonRegister,\n        title: \"Login\",\n        onPress: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return LoginView;\n}(React.Component);\n\nexport default LoginView;","map":{"version":3,"sources":["/Users/jedrzej/Documents/GitHub/YachtmanMobile/views/LoginView.js"],"names":["Button","React","styles","StyleSheet","create","container","flex","flexDirection","justifyContent","alignItems","margin","textInput","height","borderColor","borderWidth","warningfield","color","picker","buttonRegister","backgroundColor","LoginView","props","onSubmit","fetchForbidden","state","form","password","correctMessage","console","log","email","setState","fetch","method","headers","body","JSON","stringify","then","res","status","alert","data","catch","err","name","value","txt","handleChange","Component"],"mappings":"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","sourcesContent":["import {Button} from 'react-native-elements'\nimport React from 'react';\nimport {View, Text, TextInput, StyleSheet, SafeAreaView, ScrollView} from \"react-native\";\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        flexDirection: \"column\",\n        justifyContent: \"space-around\",\n        alignItems: \"stretch\",\n        margin: 20\n    },\n    textInput: { \n        height: 40,\n        borderColor: \"gray\",\n        borderWidth: 1\n    },\n    warningfield: {\n        color: \"red\"\n    },\n    picker: {\n        height: 80\n    },\n    buttonRegister: {\n        backgroundColor: \"#32a852\"\n    }\n  });\n\nclass LoginView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            form: {\n                password: null,\n                email: null\n            },\n            correctMessage : \"\"\n        };\n    }\n    handleChange(name, value) {\n        this.state.form[name] = value;\n        console.log(this.state.form);\n    }\n\n   onSubmit = () => {\n        var fetchForbidden = false;\n        if(this.state.form.password === null){\n            this.state.correctMessage += \"Password cannot be null. \"\n            fetchForbidden = true;\n            console.log(3);\n        }\n        if(this.state.form.email === null){\n            this.state.correctMessage += \"Email cannot be null. \"\n            fetchForbidden = true;\n            console.log(4);\n        }\n        this.setState({correctMessage: this.state.correctMessage});\n        if(fetchForbidden === false)\n        {\n            this.state.correctMessage = \"\";\n            fetch(\"https://locatedimg.azurewebsites.net/Home/AddUser\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    email: this.state.form.email,\n                    password: this.state.form.password\n                })\n                })\n                .then((res) => {\n                    if(res.status == \"200\"){\n                        alert(\"Successfully singned in!\");\n                        \n                    }\n                    else\n                        alert(\"Found an account registered with that email. Try with another address.\");\n                })\n                .then((data) =>console.log(JSON.stringify(data)))\n                .catch((err)=>console.log(err));\n        }\n    }\n    render(){\n        return (\n            <SafeAreaView style={styles.container}>\n                <ScrollView>\n                    <View>\n                        <Text>Email</Text>\n                        <TextInput style={styles.textInput} onChangeText={(txt) => this.handleChange(\"email\", txt)}/>\n                    </View>\n                    <View>\n                        <Text>Password</Text>\n                        <TextInput textContentType=\"password\" autoCompleteType=\"password\" style={styles.textInput} onChangeText={(txt) => this.handleChange(\"password\", txt)}/>\n                        </View>\n                    <View>\n                        <Text>{this.state.correctMessage}</Text>\n                    </View>\n                    <Button buttonStyle ={styles.buttonRegister} title=\"Login\" onPress={this.onSubmit}></Button>\n                </ScrollView>\n            </SafeAreaView>\n        );\n    }\n}\nexport default LoginView;"]},"metadata":{},"sourceType":"module"}